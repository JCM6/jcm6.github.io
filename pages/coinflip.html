<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>conflip</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='/resources/styles/jcm6Styles.css'>
    <script id="mainScript">




        // FFDE the Founding Father Decision Engine
        function FFDE (){
            var coinRand = Math.random();
            var coinState = Math.round(coinRand);
            var flipResult = document.getElementById("result");
            //var scoreParent = document.getElementById("score")
            var statS = ('Coin random:' + coinRand + ' || ' + 'Coin Result:' + coinState);
            var imageElement = document.getElementById('imageResult');
            var headsImagePath = 'https://jcm6.github.io/resources/images/heads.png';
            var tailsImagePath = 'https://jcm6.github.io/resources/images/tails.png';



            //Store tails variables
            var headsWinsR = document.getElementById("headsScore").value;
            var tailsWinsR = document.getElementById("tailsScore").value;
            var headsWin = parseInt(headsWinsR, 10);
            var tailsWin = parseInt(tailsWinsR, 10);
            var scoreParent = document.getElementById("score");



            document.getElementById("coinStats").innerHTML = statS;
            
           var scoreS = document.createElement("DIV");

            scoreS.innerHTML = statS;

            scoreParent.appendChild(scoreS);
            
            //Update Results and Image based on coinState
            console.log("Coin is:" + coinState);
            if (coinState > 0){
                console.log("Heads Wins!");
                flipResult.innerHTML = 'Result:Heads';
                headsWin.value = (headsWinsR + 1);
                imageElement.setAttribute("src", headsImagePath);
                imageElement.setAttribute("name", "heads");
            } else {
                console.log("Tails Wins");
                flipResult.innerHTML = 'Result:Tails';
                tailsWin.value = (tailsWinsR + 1);
                imageElement.setAttribute("src", tailsImagePath);
                imageElement.setAttribute("name", "tails");
            };

        };
    </script>
</head>
<body>
    <div><h3>Coin Flip Page</h3></div>
    <div id="flippage"><button id="coin" onclick="FFDE()">Flip the coin</button></div>
    <div>
        <image src='https://jcm6.github.io/pages/defectusResized.png' id="imageResult" name=""></image>
    </div>
    <hr>
    <div id="coinStats"></div>
    <hr>
    <div id="result">Flip Results will show up here!</div>
    <hr>
    <details id="scoreContainer">
        <summary id="scoreHeader">Recorded Scores: <span id="recordedScore">Heads Tally <input id="headsScore" value="0">|| Tails Tally <input id="tailsScore" value="0"></span></summary>
        <div><hr></div>
        <div id="score"></div>
        <div><hr></div>
    </details>


</body>
</html>